import requests
import datetime
import re
import os.path
from os import path
list = []
Z = 0
K = 0

if path.isfile('http_access_log.txt') == False:
  url='https://s3.amazonaws.com/tcmg476/http_access_log'
  r = requests.get(url, allow_redirects=True)
  open ('http_access_log.txt','wb').write(r.content)
  print('downloading file')


else:
 print ('File Log has already been downloaded')
 
  
logfile = open('http_access_log.txt', 'r')

print("The total number of requests made each day were:")
with open('http_access_log.txt') as j:
    
   regex = re.compile(".+ \[(.+).+\] "[A-Z]{3,4} (.+)HTTP/1.0" ([0-9]{3})")
   parts = regex.split(log_line)
   print parts
    



